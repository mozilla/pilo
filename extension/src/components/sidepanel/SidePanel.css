@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Custom color tokens extending Tailwind's stone palette */
@theme {
  /* Override default font to use Inter Variable */
  --font-sans:
    "Inter Variable", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  /* letter spacing */
  --tracking-normal: -0.1px;

  --color-stone-25: #fdfcfa;
  --color-stone-75: #f5f3ef;
  --color-stone-125: #ebe9e5;
  --color-stone-175: #e5e3df;
  --color-stone-225: #d8d6d2;
  --color-stone-875: #2f2f2f;
  --color-stone-925: #1c1b22;
  --color-gray-150: #e9eaec;
  --color-gray-350: #b4b9c1;
  --color-purple-580: #924fe8;
  /* Prose chat typography - cloned from prose-base, customize as needed */

  /* Font sizes */
  --prose-chat-font-size: 0.75rem;
  --prose-chat-h1-font-size: 1.125rem;
  --prose-chat-h2-font-size: 1rem;
  --prose-chat-h3-font-size: 1rem;
  --prose-chat-h4-font-size: 1em;
  --prose-chat-code-font-size: 0.875em;
  --prose-chat-lead-font-size: 1.25em;

  /* Line heights */
  --prose-chat-line-height: 1.333;
  --prose-chat-h1-line-height: 1.4;
  --prose-chat-h2-line-height: 1.144;
  --prose-chat-h3-line-height: 1.6;
  --prose-chat-h4-line-height: 1.5;

  /* Margins */
  --prose-chat-p-margin-top: 1.25em;
  --prose-chat-p-margin-bottom: 1.25em;
  --prose-chat-h1-margin-top: 0;
  --prose-chat-h1-margin-bottom: 0.889em;
  --prose-chat-h2-margin-top: 2em;
  --prose-chat-h2-margin-bottom: 1em;
  --prose-chat-h3-margin-top: 1.6em;
  --prose-chat-h3-margin-bottom: 0.6em;
  --prose-chat-h4-margin-top: 1.5em;
  --prose-chat-h4-margin-bottom: 0.5em;
}

/* Add custom styles to Tailwind's components layer to ensure they're included in build */
@layer components {
  /* Semantic classes for message content with enhanced readability */
  .text-message-user {
    font-size: 0.875rem;
    line-height: 1.5;
    font-weight: 400;
  }

  .text-message-assistant {
    font-size: 1rem;
    line-height: 1.5;
    font-weight: 400;
  }

  /* Restore list styles for markdown content */
  .markdown-content ol {
    list-style-type: decimal;
    list-style-position: inside;
  }

  .markdown-content ul {
    list-style-type: disc;
    list-style-position: inside;
  }
}

/* Prose chat typography utility - similar to prose-sm, prose-lg */
@utility prose-chat {
  font-size: var(--prose-chat-font-size);
  line-height: var(--prose-chat-line-height);

  p {
    margin-top: var(--prose-chat-p-margin-top);
    margin-bottom: var(--prose-chat-p-margin-bottom);
  }

  h1 {
    font-size: var(--prose-chat-h1-font-size);
    line-height: var(--prose-chat-h1-line-height);
    margin-top: var(--prose-chat-h1-margin-top);
    margin-bottom: var(--prose-chat-h1-margin-bottom);
    font-weight: 600;
  }

  h2 {
    font-size: var(--prose-chat-h2-font-size);
    line-height: var(--prose-chat-h2-line-height);
    margin-top: var(--prose-chat-h2-margin-top);
    margin-bottom: var(--prose-chat-h2-margin-bottom);
    font-weight: 600;
  }

  h3 {
    font-size: var(--prose-chat-h3-font-size);
    line-height: var(--prose-chat-h3-line-height);
    margin-top: var(--prose-chat-h3-margin-top);
    margin-bottom: var(--prose-chat-h3-margin-bottom);
  }

  h4 {
    font-size: var(--prose-chat-h4-font-size);
    line-height: var(--prose-chat-h4-line-height);
    margin-top: var(--prose-chat-h4-margin-top);
    margin-bottom: var(--prose-chat-h4-margin-bottom);
  }

  code {
    font-size: var(--prose-chat-code-font-size);
  }

  [class~="lead"] {
    font-size: var(--prose-chat-lead-font-size);
  }
}
